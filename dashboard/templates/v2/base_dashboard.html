{% extends "v2/base.html" %}
{% load i18n %}

{% block extra_head_dashboard %}
    <!-- Humanitarian Font -->
    <link rel="stylesheet" href="{{ STATIC_URL }}publication/flooding/lib/font-ocha/css/style.css">
    <!-- Datatables -->
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}v2/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}v2/css/buttons.bootstrap.min.css">
    <!-- Select2 -->
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}v2/css/select2.min.css">
    <!-- Jquery dropdown -->
    <link href="{{ STATIC_URL }}lib/css/jquery.dropdown.css" media="all" rel="stylesheet" type="text/css">
    <!-- Typeahead -->
    <link href="{{ STATIC_URL }}lib/css/jquery.typeahead.css" media="all" rel="stylesheet" type="text/css">
    {% block extra_head_dashboard_custom %}
    <!-- DateRangePicker -->
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}v2/css/daterangepicker.css">
    <!-- NoUISlider -->
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}v2/css/nouislider.min.css">
    <!-- Leaflet -->
    <link rel="stylesheet" href="{{ STATIC_URL }}v2/css/leaflet.css"/>
    <!-- Easy Button Leaflet -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.EasyButton/2.3.0/easy-button.css">

    {% if 'print' in request.build_absolute_uri %}
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}v2/css/print.css?ver=140619">
    {% endif %}
    {% endblock extra_head_dashboard_custom %}
{% endblock extra_head_dashboard%}

{% block extra_loading %}
    <div class="se-pre-con hidden-print">
        <div id="loader-wrapper">
            <div id="loader"></div>
            <div class="loader-section section-left"></div>
            <div class="loader-section section-right"></div>
        </div>
        <span>{% trans "Loading ..." %}</span>
    </div>
{% endblock extra_loading %}

{% block middle %}
    {% block body_outer %}
    {% endblock %}
{% endblock middle %}

{% block dashboard_script %}

    <!-- Select2 -->
    <script src="{{ STATIC_URL }}v2/js/select2.min.js"></script>

    <!-- JQuery Dropdown -->
    <script src="{{ STATIC_URL }}lib/js/jquery.dropdown.js"></script>

    <!-- Typeahead -->
    <script src="{{ STATIC_URL }}lib/js/jquery.typeahead.js"></script>
    
    <!-- Datatables -->
    <script src="{{ STATIC_URL }}v2/js/jquery.dataTables.min.js"></script>
    <script src="{{ STATIC_URL }}v2/js/dataTables.buttons.min.js"></script>
    <script src="{{ STATIC_URL }}v2/js/buttons.flash.min.js"></script>
    <script src="{{ STATIC_URL }}v2/js/jszip.min.js"></script>
    <script src="{{ STATIC_URL }}v2/js/pdfmake.min.js"></script>
    <script src="{{ STATIC_URL }}v2/js/vfs_fonts.js"></script>
    <script src="{{ STATIC_URL }}v2/js/buttons.html5.js"></script>
    <script src="{{ STATIC_URL }}v2/js/buttons.print.min.js"></script>
    <!-- <script type="js/buttons.colVis.min.js"></script> -->
    <script src="{{ STATIC_URL }}v2/js/dataTables.bootstrap.min.js"></script>
    <script src="{{ STATIC_URL }}v2/js/buttons.bootstrap.min.js"></script>
    <script src="{{ STATIC_URL }}v2/js/dataTables.responsive.min.js"></script>

    <!-- Datatables Plugin -->
    <script src="{{ STATIC_URL }}v2/js/datetime-moment.js"></script>

    <!-- Highcharts -->
    <!-- <script src="https://code.highcharts.com/highcharts.js"></script> -->
    <script src="{{ STATIC_URL }}v2/js/highcharts.js"></script>

    {% block dashboard_script_custom %}
    <!-- ECharts -->
    <!-- <script src="{{ STATIC_URL }}v2/js/echarts.min.js"></script> --> <!-- versi 3.8.5 -->
    <!-- <script src="{{ STATIC_URL }}v2/js/echarts.min(1).js"></script> --> <!-- versi 3.7.0 -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.0.4/echarts-en.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/3.8.5/echarts-en.min.js?dc=1"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/3.7.2/echarts.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.1.0.rc2/echarts.min.js"></script> -->
    <script src="{{ STATIC_URL }}v2/js/echarts.min(2).js"></script> <!-- versi 3.6.2 -->

    <!-- JQuery TouchSwipe -->
    <!-- <script src="http://labs.rampinteractive.co.uk/touchSwipe/jquery.touchSwipe.min.js"></script> -->
    <script src="{{ STATIC_URL }}v2/js/jquery.touchSwipe.min.js"></script>

    <!-- GeoStats -->
    <script src="{{ STATIC_URL }}v2/js/geostats.min.js"></script>

    <!-- wNumb -->
    <!-- <script src ="https://cdnjs.cloudflare.com/ajax/libs/wnumb/1.1.0/wNumb.min.js"></script> -->
    <script src ="{{ STATIC_URL }}v2/js/wNumb.js"></script>

    <!-- NoUISlider -->
    <!-- <script src ="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/11.1.0/nouislider.min.js"></script> -->
    <script src ="{{ STATIC_URL }}v2/js/nouislider.min.js"></script>

    <!-- Leaflet -->
    <!-- <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
        integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>  -->
    <script src="{{ STATIC_URL }}v2/js/leaflet.js"></script>

    <!-- Easy Button Leaflet -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.EasyButton/2.3.0/easy-button.min.js"></script>
    <!-- <script src="{{ STATIC_URL }}v2/js/easy-button.js"></script> -->

    <!-- Chroma.js -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/1.3.7/chroma.min.js"></script> -->
    <script src="{{ STATIC_URL }}v2/js/chroma.min.js"></script>

    <!-- Custom -->
    <script src="{{ STATIC_URL }}v2/js/custom-dashboard.js?ver=140619"></script>

    {% if 'print' in request.build_absolute_uri %}
        <script>
            toolbox_charts = false
        </script>
    {% else %}
        <script>
            toolbox_charts = true
        </script>
    {% endif %}

    <script type="text/javascript">

        // LANGUAGE_CODE js global var
        {% get_current_language as LANGUAGE_CODE %}
        LANGUAGE_CODE = "{{ LANGUAGE_CODE }}";
      
          function jump_url(code){
            var url = window.location.href;
      
            if (getParameterByName("code") == null){
              url += '&code='+code;
            } else {
              url = updateUrlParameter(url, 'code', code)
            }
      
            if (code == 0){
              url = removeParam('code', url)
            }
      
            window.document.location = url;
      
          }
      
          function getParameterByName(name, url) {
              if (!url) url = window.location.href;
              name = name.replace(/[\[\]]/g, "\\$&");
              var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                  results = regex.exec(url);
              if (!results) return null;
              if (!results[2]) return '';
              return decodeURIComponent(results[2].replace(/\+/g, " "));
          }
      
          function removeParam(key, sourceURL) {
              var rtn = sourceURL.split("?")[0],
                  param,
                  params_arr = [],
                  queryString = (sourceURL.indexOf("?") !== -1) ? sourceURL.split("?")[1] : "";
              if (queryString !== "") {
                  params_arr = queryString.split("&");
                  for (var i = params_arr.length - 1; i >= 0; i -= 1) {
                      param = params_arr[i].split("=")[0];
                      if (param === key) {
                          params_arr.splice(i, 1);
                      }
                  }
                  rtn = rtn + "?" + params_arr.join("&");
              }
              return rtn;
          }
      
          function updateUrlParameter(url, param, value){
              var regex = new RegExp('([?|&]'+param+'=)[^\&]+');
              return url.replace( regex , '$1' + value);
          }
      
          function addUpdateUrlParameter(url, param, value) {
                  if (url.indexOf(param) == -1) {
                      return url+'&'+param+'='+value;
                  }
                  else {
                      return updateUrlParameter(url, param, value);
                  }
              }
      
    </script>
    {% endblock dashboard_script_custom %}
    
    <script type="text/javascript">
        $(window).load(function() {
        // Animate loader off screen
        $(".se-pre-con").fadeOut("slow");
        });
    </script>
    
    <script type="text/javascript" src="{% url "lang" %}"></script>
{% endblock dashboard_script %}